<UserControl x:Class="PIFilmAutoDetachCleanMC.MVVM.Views.HeaderView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:PIFilmAutoDetachCleanMC.MVVM.Views"
             xmlns:vm="clr-namespace:PIFilmAutoDetachCleanMC.MVVM.ViewModels"
             d:DataContext="{d:DesignInstance Type=vm:HeaderViewModel}"
             xmlns:eqxui="clr-namespace:EQX.UI.Controls;assembly=EQX.UI"
             Foreground="White"
             mc:Ignorable="d" 
             d:DesignHeight="70" d:DesignWidth="800">

    <StackPanel>
        <Grid Height="30"
              Background="Transparent"
              MouseLeftButtonDown="Grid_MouseLeftButtonDown">
            <StackPanel Orientation="Horizontal">
                <Image Source="{StaticResource ImageTopLogo1}"
                       Margin="4"/>
                <Image Source="{StaticResource ImageCustomerLogo}"
                       Margin="4"/>
            </StackPanel>
            <eqxui:WindowResizeCloseButtons HorizontalAlignment="Right"
                VerticalAlignment="Center"
                CloseButtonClickCommand="{Binding DataContext.ApplicationCloseCommand, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}"/>
        </Grid>

        <Grid Height="37"
              Background="{StaticResource PrimaryBackgroundColor}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.7*"/>
                <ColumnDefinition Width="1.3*"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <TextBlock Text="{Binding Information.Customer}"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       Grid.RowSpan="2"/>

            <TextBlock Text="{Binding Information.MachineName}"
                       FontFamily="{StaticResource FontHighlight}"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Center"
                       FontSize="30"
                       Grid.Column="1"
                       Grid.RowSpan="2"/>

            <DockPanel Grid.Column="2"
                       Grid.Row="1">
                <Path Fill="LightGray"
                      DockPanel.Dock="Left"
                      Data="M 0 10, 5 10, 5 0"
                      Stretch="Uniform"/>
                <Border Background="LightGray"
                        BorderThickness="0"/>
            </DockPanel>

            <TextBlock Grid.Column="2"
                       Text="Model: Galaxy S100"
                       HorizontalAlignment="Center"/>

            <TextBlock TextAlignment="Center"
                       FontFamily="Consolas"
                       Foreground="Black"
                       Grid.Row="1"
                       Grid.Column="2">
                <TextBlock.Text>
                    <MultiBinding StringFormat="{}{0} [Ver: {1}]">
                        <Binding Path="Now" StringFormat="{}{0:yyyy-mm-dd, HH:mm:ss}"/>
                        <Binding Path="Information.SoftwareVersion"/>
                    </MultiBinding>
                </TextBlock.Text>
            </TextBlock>
        </Grid>

        <Border Height="3"
                Background="LightGray"/>
    </StackPanel>
</UserControl>
