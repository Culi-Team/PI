<log4net>
  <root>
    <!-- Select one of these options
      ALL
      DEBUG
      INFO
      WARN
      ERROR
      FATAL
      OFF
    -->
    <level value="ALL" />
    <appender-ref ref="console" />
    <appender-ref ref="file" />
    <appender-ref ref="NotifyAppender" />
  </root>

  <appender name="NotifyAppender"
            type="EQX.UI.NotifyAppender, EQX.UI" >
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="[%date{HH:mm:ss.fff}],%-5level,%-18logger,%message%newline"/>
    </layout>
  </appender>
  
  <appender name="console" type="log4net.Appender.ConsoleAppender">
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="[%date{HH:mm:ss.fff}],%-5level,%-18logger,%message%newline"/>
    </layout>
  </appender>

  <appender name="file" type="EQX.UI.CustomRollingFileAppender, EQX.UI">
    <lockingModel type="log4net.Appender.FileAppender+MinimalLock"/>
    <file value="D:\PIFilmAutoDetachCleanMC\Log\"/>
    <datePattern value="yyyy-MM/yyyy-MM-dd/yyyy-MM-dd'.xml'" />
    <staticLogFileName value="false" />
    <appendToFile value="true" />
    <rollingStyle value="Composite" />
    <maxSizeRollBackups value="-1" />
    <maximumFileSize value="1MB" />
    <preserveLogFileNameExtension value="true" />
    <layout type="log4net.Layout.PatternLayout">
      <header value="&lt;?xml version='1.0' encoding='utf-8'?&gt;&#13;&#10;&lt;?xml-stylesheet type='text/xsl' href='#stylesheet'?&gt;&#13;&#10;&lt;activity&gt;&#13;&#10;&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; id=&quot;stylesheet&quot; xml:id=&quot;stylesheet&quot;&gt;&#13;&#10;		&lt;xsl:output method=&quot;html&quot;  encoding=&quot;utf-16&quot;/&gt;&#13;&#10;		&lt;!-- Don't reprint text nodes within the xsl:stylesheet node --&gt;&#13;&#10;		&lt;xsl:template match=&quot;text()&quot;/&gt;&#13;&#10;		&lt;xsl:template match=&quot;activity&quot;&gt;&#13;&#10;			&lt;head&gt;&#13;&#10;				&lt;style type=&quot;text/css&quot;&gt;&#13;&#10;					body{ text-align: left; width: 100%;  font-family: Verdana, sans-serif; }&#13;&#10;&#13;&#10;					table{ border: none;  border-collapse: separate;  width: 100%; }&#13;&#10;&#13;&#10;					tr.title td{ font-size: 24px;  font-weight: bold; }&#13;&#10;&#13;&#10;					th{ background: #d0d0d0;  font-weight: bold;  font-size: 10pt;  text-align: left; }&#13;&#10;					tr{ background: #eeeeee}&#13;&#10;					td, th{ font-size: 8pt;  padding: 1px;  border: none; }&#13;&#10;&#13;&#10;        tr.debug td{}&#13;&#10;					tr.info td{background-color:#90CAF9;color:black}&#13;&#10;					tr.warning td{background-color:#FFF4CE;color:black}&#13;&#10;					tr.error td{background-color:#FFAB91;color:black}&#13;&#10;         tr.fatal td{background-color:#FF7043;color:black}&#13;&#10;&#13;&#10;					#description {white-space:pre-wrap}&#13;&#10;&#13;&#10;					span {text-decoration:underline}&#13;&#10;					a:hover{text-transform:uppercase;color: #9090F0;}&#13;&#10;				&lt;/style&gt;&#13;&#10;			&lt;/head&gt;&#13;&#10;&#13;&#10;			&lt;body&gt;&#13;&#10;				&lt;table&gt;&#13;&#10;					&lt;tr class=&quot;title&quot;&gt;&#13;&#10;						&lt;td colspan=&quot;7&quot;&gt;Logs&lt;/td&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;          &lt;tr&gt;&#13;&#10;						&lt;td colspan=&quot;2&quot;&gt;debugs&lt;/td&gt;&#13;&#10;						&lt;td colspan=&quot;5&quot;&gt;&#13;&#10;							&lt;xsl:value-of select=&quot;count(entry[type='DEBUG'])&quot;/&gt;&#13;&#10;						&lt;/td&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;					&lt;tr&gt;&#13;&#10;						&lt;td colspan=&quot;2&quot;&gt;infos&lt;/td&gt;&#13;&#10;						&lt;td colspan=&quot;5&quot;&gt;&#13;&#10;							&lt;xsl:value-of select=&quot;count(entry[type='INFO'])&quot;/&gt;&#13;&#10;						&lt;/td&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;					&lt;tr&gt;&#13;&#10;						&lt;td colspan=&quot;2&quot;&gt;warnings&lt;/td&gt;&#13;&#10;						&lt;td colspan=&quot;5&quot;&gt;&#13;&#10;							&lt;xsl:value-of select=&quot;count(entry[type='WARN'])&quot;/&gt;&#13;&#10;						&lt;/td&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;					&lt;tr&gt;&#13;&#10;						&lt;td colspan=&quot;2&quot;&gt;errors&lt;/td&gt;&#13;&#10;						&lt;td colspan=&quot;5&quot;&gt;&#13;&#10;							&lt;xsl:value-of select=&quot;count(entry[type='ERROR'])&quot;/&gt;&#13;&#10;						&lt;/td&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;					&lt;tr&gt;&#13;&#10;						&lt;td colspan=&quot;2&quot;&gt;fatals&lt;/td&gt;&#13;&#10;						&lt;td colspan=&quot;5&quot;&gt;&#13;&#10;							&lt;xsl:value-of select=&quot;count(entry[type='FATAL'])&quot;/&gt;&#13;&#10;						&lt;/td&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;					&lt;tr&gt;&#13;&#10;						&lt;th width=&quot;300&quot;&gt;Time (UTC)&lt;/th&gt;&#13;&#10;						&lt;th width=&quot;100&quot;&gt;Type&lt;/th&gt;&#13;&#10;						&lt;th width=&quot;200&quot;&gt;Source&lt;/th&gt;&#13;&#10;						&lt;th&gt;Description&lt;/th&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;					&lt;xsl:apply-templates/&gt;&#13;&#10;				&lt;/table&gt;&#13;&#10;&#13;&#10;			&lt;/body&gt;&#13;&#10;		&lt;/xsl:template&gt;&#13;&#10;&#13;&#10;		&lt;xsl:template match=&quot;entry&quot;&gt;&#13;&#10;			&lt;xsl:choose&gt;&#13;&#10;				&lt;xsl:when test=&quot;type='DEBUG'&quot;&gt;&#13;&#10;					&lt;tr id=&quot;debug&quot; class=&quot;debug&quot;&gt;&#13;&#10;						&lt;xsl:call-template name=&quot;row&quot;/&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;				&lt;/xsl:when&gt;&#13;&#10;&#13;&#10;				&lt;xsl:when test=&quot;type='INFO'&quot;&gt;&#13;&#10;					&lt;tr id=&quot;info&quot; class=&quot;info&quot;&gt;&#13;&#10;						&lt;xsl:call-template name=&quot;row&quot;/&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;				&lt;/xsl:when&gt;&#13;&#10;&#13;&#10;				&lt;xsl:when test=&quot;type='WARN'&quot;&gt;&#13;&#10;					&lt;tr id=&quot;warning&quot; class=&quot;warning&quot;&gt;&#13;&#10;						&lt;xsl:call-template name=&quot;row&quot;/&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;				&lt;/xsl:when&gt;&#13;&#10;&#13;&#10;				&lt;xsl:when test=&quot;type='ERROR'&quot;&gt;&#13;&#10;					&lt;tr id=&quot;error&quot; class=&quot;error&quot;&gt;&#13;&#10;						&lt;xsl:call-template name=&quot;row&quot;/&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;				&lt;/xsl:when&gt;&#13;&#10;&#13;&#10;				&lt;xsl:when test=&quot;type='FATAL'&quot;&gt;&#13;&#10;					&lt;tr id=&quot;fatal&quot; class=&quot;fatal&quot;&gt;&#13;&#10;						&lt;xsl:call-template name=&quot;row&quot;/&gt;&#13;&#10;					&lt;/tr&gt;&#13;&#10;				&lt;/xsl:when&gt;&#13;&#10;&#13;&#10;			&lt;/xsl:choose&gt;&#13;&#10;&#13;&#10;		&lt;/xsl:template&gt;&#13;&#10;&#13;&#10;		&lt;xsl:template name=&quot;row&quot;&gt;&#13;&#10;			&lt;td&gt;&#13;&#10;				&lt;xsl:value-of select=&quot;time&quot;/&gt;&#13;&#10;			&lt;/td&gt;&#13;&#10;			&lt;td&gt;&#13;&#10;				&lt;xsl:value-of select=&quot;type&quot;/&gt;&#13;&#10;			&lt;/td&gt;&#13;&#10;			&lt;td&gt;&#13;&#10;				&lt;xsl:value-of select=&quot;source&quot;/&gt;&#13;&#10;			&lt;/td&gt;&#13;&#10;			&lt;td id=&quot;description&quot;&gt;&#13;&#10;				&lt;xsl:value-of select=&quot;description&quot;/&gt;&#13;&#10;				&lt;xsl:if test=&quot;path&quot;&gt;&#13;&#10;					&lt;br/&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&lt;xsl:value-of select=&quot;path&quot;/&gt;&#13;&#10;				&lt;/xsl:if&gt;&#13;&#10;			&lt;/td&gt;&#13;&#10;		&lt;/xsl:template&gt;&#13;&#10;&#13;&#10;&lt;/xsl:stylesheet&gt;&#13;&#10;" />
      <conversionPattern value="  &lt;entry&gt;&#13;&#10;    &lt;time&gt;%date{yyyy/MM/dd HH:mm:ss.fff}&lt;/time&gt;&#13;&#10;    &lt;type&gt;%level&lt;/type&gt;&#13;&#10;    &lt;source&gt;%logger&lt;/source&gt;&#13;&#10;    &lt;description&gt;%message&lt;/description&gt;&#13;&#10;  &lt;/entry&gt;&#13;&#10;" />
      <footer value="&lt;/activity&gt;" />
    </layout>
  </appender>

</log4net>