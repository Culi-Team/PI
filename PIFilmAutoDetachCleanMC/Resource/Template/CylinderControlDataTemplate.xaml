<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:inout="clr-namespace:EQX.InOut;assembly=EQX.InOut"
                    xmlns:controls="clr-namespace:EQX.UI.Controls;assembly=EQX.UI"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <DataTemplate x:Key="CylinderControlDataTemplate"
                  DataType="{x:Type inout:CylinderBase}">
        <Border >
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Label Content="{Binding Name}"
                       FontWeight="Bold"
                       FontSize="14"
                       HorizontalAlignment="Center"
                       Foreground="Black"
                       Margin="0,0,0,5" />
                <UniformGrid Rows="1"
                             Columns="2"
                             Grid.Row="1"
                             HorizontalAlignment="Center">
                    <controls:InterlockButton Content="{Binding CylinderType, Converter={StaticResource CylinderTypeToButtonNameConverter}, ConverterParameter=true}"
                                              Command="{Binding DataContext.CylinderForwardCommand,ElementName=root}"
                                              Margin="2 0 2 0"
                                              FontSize="14"
                                              Height="35"
                                              Width="100"
                                              CommandParameter="{Binding}"
                                              InterlockKey="{Binding InterlockKey}">
                        <controls:InterlockButton.Background>
                            <MultiBinding Converter="{StaticResource CylinderButtonBrushConverter}">
                                <Binding Path="IsForward" />
                                <Binding Path="IsBackward" />
                                <Binding Path="CylinderType"/>
                                <Binding Source="Forward"/>
                            </MultiBinding>
                        </controls:InterlockButton.Background>
                    </controls:InterlockButton>

                    <controls:InterlockButton Content="{Binding CylinderType, Converter={StaticResource CylinderTypeToButtonNameConverter}, ConverterParameter=false}"
                                              Command="{Binding DataContext.CylinderBackwardCommand,ElementName=root}"
                                              Margin="2 0 2 0"
                                              FontSize="14"
                                              Height="35"
                                              Width="100"
                                              CommandParameter="{Binding}"
                                              InterlockKey="{Binding InterlockKey}">
                        <controls:InterlockButton.Background>
                            <MultiBinding Converter="{StaticResource CylinderButtonBrushConverter}">
                                <Binding Path="IsForward" />
                                <Binding Path="IsBackward" />
                                <Binding Path="CylinderType" />
                                <Binding Source="Backward" />
                            </MultiBinding>
                        </controls:InterlockButton.Background>
                    </controls:InterlockButton>
                </UniformGrid>
            </Grid>
        </Border>
    </DataTemplate>

</ResourceDictionary>